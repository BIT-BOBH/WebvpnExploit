<script setup lang="ts">
import { NCard,NTag,NInput } from 'naive-ui'
import { ref } from 'vue'
import { NTable, NThead, NTbody } from 'naive-ui'
const hijackUsername = ref("")
const hijackPassword = ref("")
const recordedAccount = ref([])
const InputChange = () => {
  //console.log(hijackUsername.value, hijackPassword.value)
  if(hijackPassword.value !== ""){
    recordedAccount.value.push({
      user: hijackUsername.value,
      pass: hijackPassword.value
    })
  }
  
}
</script>

<template>
  <n-card id="RememberPass" title="记住密码攻击" hoverable embedded content-style="font-size: 1.2em;">
    假如你是电脑chrome或edge，因为域名相同，浏览器会自动填入你保存的webvpn登录密码，导致密码泄露
    <br/>
    假如你使用手机，或者电脑safari浏览器，也可以通过手动允许填写密码，<n-tag type="success">相对安全</n-tag>
    <br />
    但是假如这个页面做得和<n-tag type="info">通用身份验证页面</n-tag>一模一样，还有自动填写功能，你还能分辨出来吗？
    <br />
    <b style="color: red;">假如这是盗号网站(本页面不会),他将发送以下信息到服务器:</b>
    <n-table :single-line="false">
        <thead>
          <tr>
            <th>账号</th>
            <th>密码</th>
          </tr>
        </thead>
        <tbody>
          <tr v-for="(item, index) in recordedAccount" :key="index">
            <td>{{ item.user }}</td>
            <td>{{ item.pass }}</td>
          </tr>
        </tbody>
      </n-table>
    <n-input style="margin-top:10px;" v-model:value="hijackUsername" @input="InputChange" id="username" name="username" type="text" placeholder="请输入学号/工号" title="请输入学号/工号"/>
    <n-input style="margin-top:10px;" v-model:value="hijackPassword" @input="InputChange" id="password" name="passwordText" type="password" placeholder="请输入密码" title="请输入密码" maxlength="32" />
  </n-card>
</template>

<style scoped>
#RememberPass{
  margin-top: 10px;
}
</style>